<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/bootstrap-theme.min.css">
<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
<link rel="stylesheet" href="/side-menu.css">
<link rel="stylesheet" href="/syntax.css">
<link rel="stylesheet" href="/main.css">
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</head>
<body>
<div id="layout">
  <a href="#menu" id="menuLink" class="menu-link">
    <!-- Hamburger icon -->
  <span></span>
  </a>
  <div id="menu">
    <div class="pure-menu custom-restricted-width custom-restricted-height">
      <a class="pure-menu-heading pure-menu-link" href="/">ALIBUILD</a>
      <ul class="pure-menu-list">
      
        <li class="pure-menu-item menu-item-section menu-item-devided">
          <a href="/quick.html" class="pure-menu-link">QUICKSTART</a>
        </li>
        
      
        <li class="pure-menu-item menu-item-section menu-item-devided">
          <a href="/user.html" class="pure-menu-link">USER MANUAL</a>
        </li>
        
      
        <li class="pure-menu-item menu-item-section menu-item-devided">
          <a href="/extra.html" class="pure-menu-link">EXTRA TOOLS</a>
        </li>
        
      
        <li class="pure-menu-item menu-item-section menu-item-devided">
          <a href="/reference.html" class="pure-menu-link">REFERENCE</a>
        </li>
        
      
      </ul>
    </div>
  </div>
  <div id="main">
    <div class="header">
      <h1>aliBuild</h1>
      <h2>Quick Start</h2>
    </div>
    <div class="content">
      <p>aliBuild is a tool to simplify building and installing ALICE / ALFA software.
The tool itself if available as a github repository which can be checked out via:</p>

<pre><code>git clone https://github.com/alisw/alibuild.git
</code></pre>

<p>This will provide you the tool itself. In order to work you will need a set of
recipes from a repository called <code>alidist</code>:</p>

<pre><code>git clone https://github.com/alisw/alidist.git
</code></pre>

<p>Once you have obtained both repository, you can trigger a build via:</p>

<pre><code>alibuild/aliBuild [-d] -a &lt;architecture&gt; -j &lt;jobs&gt; build &lt;package&gt;
</code></pre>

<p>where:</p>

<ul>
  <li><code>&lt;package&gt;</code>: is the name of the package you want to build, e.g.: 
    <ul>
      <li><code>AliRoot</code></li>
      <li><code>AliPhysics</code></li>
      <li><code>O2</code></li>
      <li><code>ROOT</code></li>
    </ul>
  </li>
  <li><code>&lt;architecture&gt;</code> is the platform we are building for. This can be be:
    <ul>
      <li><code>slc5_x86-64</code>: Scientific Linux 5 and compatibles, on Intel / AMD x86-64.</li>
      <li><code>slc6_x86-64</code>: Scientific Linux 6 and compatibles, on Intel / AMD x86-64.</li>
      <li><code>slc7_x86-64</code>: CERN Centos 7 and compatibles, on Intel / AMD x86-64.</li>
      <li><code>ubuntu1404_x86-64</code>: Ubuntu 1404 and compatibles, on Intel / AMD x86-64.</li>
      <li><code>osx_x86-64</code>: OSX, on Intel / AMD x86-64.</li>
    </ul>
  </li>
  <li><code>&lt;jobs&gt;</code> is the maximum number of parallel processes to be used for building
where possible.</li>
</ul>

<h3 id="results-of-a-build">Results of a build</h3>

<p>By default (can be changed using the <code>-c</code> option) the installation of your builds
can be found in:</p>

<pre><code>sw/&lt;architecture&gt;/&lt;package-name&gt;/&lt;package-version&gt;-&lt;revision&gt;/
</code></pre>

<p>where:</p>

<ul>
  <li><code>&lt;architecture&gt;</code> is the same as the one passed via the <code>-a</code> option.</li>
  <li><code>&lt;package-name&gt;</code>: is the same as the one passed as an argument.</li>
  <li><code>&lt;package-version&gt;</code>: is the same as the one found in the related recipe in alidist.</li>
  <li><code>&lt;package-revision&gt;</code>: is the number of times you rebuilt the same version of
a package, using a different recipe. In general this will be 1.</li>
</ul>

<p>For example:</p>

<pre><code>sw/slc7_x86-64/AliRoot/v5-07-01-1
</code></pre>

<p>we call this path “the <code>PACKAGE_ROOT</code> for package <code>&lt;package&gt;</code>”.</p>

<h2 id="modulefiles">Modulefiles</h2>

<p>ALICE software is loading the environment from CVMFS by means of
<a href="http://modules.sourceforge.net/">Modulefiles</a>. To test the environment loaded
by those modulefiles, export your working directory and architecture, then run
the <code>aliModules</code> script:</p>

<pre><code>export WORK_DIR=/path/containing/sw
export ARCHITECTURE=slc5_x86-64
alibuild/aliModules [module1 [module2...]]
</code></pre>

<p>If you do not specify any module, the list of available ones is printed. You
will enter a shell which has the environment configured by Modulefiles.</p>

<p>Note that you must have <code>modulecmd</code> on your system (on RedHat-based OSes it is
the <code>environment-modules</code> package).</p>

<h3 id="environment-for-packages-which-do-not-have-a-module-file">Environment for packages which do not have a module-file</h3>

<p>Some packages do not have a module file as they are not directly distributed to the grid.</p>

<p>In that case you can use the  <code>init.sh</code> file found file for any package:
<code>$&lt;PACKAGE&gt;_ROOT/etc/profile.d/init.sh</code> which sets up the environment so
that it the built software can be used. In order to use it:</p>

<pre><code>WORK_DIR=$PWD/sw source sw/slc7_x86-64/AliRoot/v5-07-01-1/etc/profile.d/init.sh
</code></pre>

<p>this will bring in a package and all it’s dependencies.</p>

    </div>
  </div>
</div>
<script src="/ui.js"></script>
</body>
</html>
